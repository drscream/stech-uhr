{% extends "base.html" %}
{% load stechuhr-tags %}

{% block navbar-right %}
<ul class="nav navbar-nav pull-right">
	<li><a href="/stechuhr/dashboard/" class="navbar-link"><i class="icon-dashboard"></i> Dashboard</a></li>
	<li><a href="/stechuhr/reports/" class="navbar-link"><i class="icon-calendar"></i> Reports</a></li>
	<li><a href="/stechuhr/settings/" class="navbar-link"><i class="icon-gears"></i> Settings</a></li>
	<li><a href="/stechuhr/logout/" class="navbar-link"><i class="icon-off"></i> Log out</a></li>
</ul>
{% endblock %}

{% block content %}
<div class="row">
	<div class="col-lg-12">
		<div class="page-header">
			<h1><i class="icon-calendar"></i> Month <small>
				{{ year }}/{{ month|leading_zero }}
					<a href="/stechuhr/reports/month/{{ prev_mon }}" class="report-header-link">
						<i class="icon-arrow-left"></i>
					</a>
					<a href="/stechuhr/reports/month/{{ next_mon }}" class="report-header-link">
						<i class="icon-arrow-right"></i>
					</a>
			</small></h1>
		</div>
	</div>
</div>
<div class="row last-row">
	<div class="col-lg-2">
		<div class="list-group">
			<a href="/stechuhr/dashboard/" class="list-group-item">
				<h5 class="list-group-item-heading">
					<i class="icon-fixed-width icon-dashboard"></i> Dashboard
				</h5>
			</a>
			<a href="/stechuhr/reports/" class="list-group-item">
				<h5 class="list-group-item-heading">
					<i class="icon-fixed-width icon-calendar"></i> Reports
				</h5>
			</a>
			<a href="/stechuhr/settings/" class="list-group-item">
				<h5 class="list-group-item-heading">
					<i class="icon-fixed-width icon-gears"></i> Settings
				</h5>
			</a>
		</div>
		<div class="list-group">
			<a href="{% url 'reports_month' year month %}" class="list-group-item active">
				<h5 class="list-group-item-heading">
					<i class="icon-fixed-width icon-calendar"></i> Month
					<small>{{ year }}/{{ month|leading_zero }}</small>
				</h5>
			</a>
		</div>
	</div>
	<div class="col-lg-10">
		{% if reports %}
		<div class="row">
			<div class="col-lg-12">
				<table class="table">
					<tr>
						<th>Weekday</th>
						<th>Date</th>
						<th>Kind of workday</th>
						<th>Start time</th>
						<th>End time</th>
						<th>Details</th>
					</tr>
				{% for report in reports %}
					<tr>
						<td>{{ report.date|date:"l" }}</td>
						<td>{{ report.date }}</td>
						<td>{{ report.workday }}</td>
						<td>{{ report.start_time|time:"H:i:s" }}</td>
						<td>{{ report.end_time|time:"H:i:s" }}</td>
						<td><a href="{% url 'reports_day' report.date|date:"Y" report.date|date:"m" report.date|date:"d" %}">Show</a></td>
					</tr>
				{% endfor %}
				</table>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<ul class="pager">
					{% if reports.has_previous %}
						<li><a href="?page={{ reports.previous_page_number }}"><i class="icon-arrow-left"></i></a></li>
					{% else %}
						<li class="disabled"><a href=""><i class="icon-arrow-left"></i></a></li>
					{% endif %}
					{% if reports.has_next %}
						<li><a href="?page={{ reports.next_page_number }}"><i class="icon-arrow-right"></i></a></li>
					{% else %}
						<li class="disabled"><a href=""><i class="icon-arrow-right"></i></a></li>
					{% endif %}
				</ul>
			</div>
		</div>
		{% else %}
		<div class="row">
			<div class="col-lg-5">
				<div class="alert alert-info form-alert">
					No reports found.
				</div>
			</div>
		</div>
		{% endif %}
	</div>
</div>
{% endblock %}

<!-- vim: set ft=htmldjango ts=4 sw=4 : -->
